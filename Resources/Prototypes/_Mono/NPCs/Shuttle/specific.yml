- type: htnCompound
  id: AttackerShuttleShortRangeCompound
  branches:
  - tasks:
    - !type:HTNPrimitiveTask
      operator: !type:UtilityOperator
        proto: NearbyShuttleTargets
    - !type:HTNCompoundTask
      task: ShuttleAttackShortRangeCompound

- type: htnCompound
  id: ShuttleAttackShortRangeCompound
  branches:
  - preconditions:
    - !type:KeyExistsPrecondition
      key: TargetCoordinates
    tasks:
    - !type:HTNPrimitiveTask
      operator: !type:ShipMoveToOperator
        shutdownState: PlanFinished
        removeKeyOnFinish: false
        inRangeMaxSpeed: null
        range: 250
        rangeTolerance: 50
        targetKey: TargetCoordinates
        mode: Orbit
    - !type:HTNPrimitiveTask
      operator: !type:ShipFireGunsOperator
        shutdownState: TaskFinished
        removeKeyOnFinish: false
        leadingAccuracy: 0.2
        targetKey: TargetCoordinates
      services:
      - !type:UtilityService
        id: TargetsService
        proto: NearbyShuttleTargets
        key: Target
        coordinatesKey: TargetCoordinates
